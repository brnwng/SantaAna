@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!-- body -->
<div class="body-content" ng-controller="foodController as fc">
    <div class="container">
        <div class="body-content1">
            <!-- header -->
            <div class="logo-search">
                <div class="logo">
                    <h1><a href="index.html">k<span class="color">i</span><span class="color1">d</span><span class="color2">s</span> <span class="color">4</span> <span>life</span> <i></i></a></h1>
                </div>
                <div class="search">
                    <form>
                        <input type="text" value="Search Here..." onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Search Here...';}" required="">
                        <input type="submit" value=" ">
                    </form>
                </div>
                <div class="clearfix"> </div>
            </div>
            <!-- //header -->
            <!-- banner-intro -->
            <div class="banner-bottom">
                <div class="banner-bottom-grids">
                    <div class="col-md-4 banner-bottom-grid">
                        <h3>Welcome To <span>Kids 4 Life</span></h3>
                        <h2><i>"Cray waistcoat vice selfies pop-up PBR&B polaroid. "</i></h2>
                        <p>
                            Kickstarter affogato shaman yr occupy. Edison bulb intelligentsia pug brunch meggings narwhal kombucha twee gentrify coloring book.
                            <span>
                                Shoreditch kale chips gentrify af farm-to-table. Unicorn pour-over 90's cray chicharrones craft beer actually try-hard mixtape taiyaki VHS beard letterpress.
                            </span>
                        </p>
                        <div class="more">
                            <a href="single.html" class="hvr-rectangle-out">Read More...</a>
                        </div>
                    </div>
                    <div class="clearfix"> </div>
                </div>
            </div>
            <!-- //banner-intro -->
            <hr />
            <!-- banner -->
            <div class="banner">
                <div class="banner-grids">
                    <div class="banner-right">
                        <section class="slider">
                            <div class="flexslider">
                                <ul class="slides">
                                    <li>
                                        <div class="services-grid-right-grid1">

                                        </div>
                                    </li>
                                    <li>
                                        <div class="services-grid-right-grid2">

                                        </div>
                                    </li>
                                    <li>
                                        <div class="services-grid-right-grid3">

                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </section>
                        <!--FlexSlider-->
                        <script src="~/Scripts/jquery.flexslider.js"></script>
                        <script type="text/javascript">
                            $(window).load(function () {
                                $('.flexslider').flexslider({
                                    animation: "slide",
                                    start: function (slider) {
                                        $('body').removeClass('loading');
                                    }
                                });
                            });
                        </script>
                        <!--End-slider-script-->
                    </div>
                    <div class="clearfix"> </div>
                </div>
            </div>
            <!-- //banner -->
            <br />
            <!--Accordion-->
            <div class="panel container">
                <div class="panel-default">

                    <div class="col-md-12">
                        <!-- start family information -->
                        <div class="panel-group" id="accordion">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">
                                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse1"> Family Information</a>
                                    </h4>
                                </div>
                                <div id="collapse1" class="panel-collapse collapse in">
                                    <div class="panel-body">
                                        <div>
                                            <form id="form" name="form">
                                                <div class="form-group">
                                                    <h5><label>Family Size</label></h5>
                                                    <input type="number" name="familySize" min="1" max="20" class="form-control" ng-model="fc.item.familySize" style="max-width:800px;" />
                                                </div>

                                                <div class="form-group">
                                                    <h5><label>Number of Children</label></h5>
                                                    <input type="number" name="numberOfChildren" min="1" max="20" class="form-control" ng-model="fc.item.numberOfChildren" maxlength="50" style="max-width:800px;" />
                                                </div><br />
                                                <br />
                                                <button type="submit" class="btn btn-primary" ng-click="fc.onSubmit(fc.item)">Submit</button><br />
                                            </form>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div><!-- end parent section-->
                        <!-- child information-->
                        <div class="panel-group" id="accordion">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">
                                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse2"> Child Information</a>
                                    </h4>
                                </div>
                                <div id="collapse2" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <div>
                                            <form id="childForm" name="childForm">
                                                <div class="form-group">
                                                    <h5><label>Child Name</label></h5>
                                                    <input type="text" name="childName" class="form-control" ng-model="fc.child.childName" style="max-width:800px;" />
                                                </div>

                                                <div class="form-group container">
                                                    <div class="row">
                                                        <h5><label>Age (Years/Months)</label></h5>
                                                        <div class="col-md-4">
                                                            <input type="number" name="ageInYears" min="1" max="99" class="form-control" ng-model="fc.child.childAgeYears" placeholder="Years" />
                                                        </div>
                                                        <div class="col-md-4">
                                                            <input type="number" name="ageInMonths" min="1" max="12" class="form-control" ng-model="fc.child.childAgeMonths" placeholder="Months" />
                                                        </div>
                                                    </div>
                                                    </div><br />

                                                    <div ng-if="fc.item.numberOfChildren > 1">
                                                    <div class="form-group">
                                                        <h5><label>Child Name</label></h5>
                                                        <input type="text" name="childName" class="form-control" ng-model="fc.child2.childName" style="max-width:800px;" />
                                                    </div>

                                                        <div class="form-group container">
                                                            <div class="row">
                                                                <h5><label>Age (Years/Months)</label></h5>
                                                                <div class="col-md-4">
                                                                    <input type="number" name="ageInYears" min="1" max="99" class="form-control" ng-model="fc.child2.childAgeYears" placeholder="Years" />
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <input type="number" name="ageInMonths" min="1" max="12" class="form-control" ng-model="fc.child2.childAgeMonths" placeholder="Months" />
                                                                </div>
                                                            </div>
                                                        </div>


                                                    </div><br />


                                                    <div ng-if="fc.item.numberOfChildren > 2">
                                                        <div class="form-group">
                                                            <h5><label>Child Name</label></h5>
                                                            <input type="text" name="childName" class="form-control" ng-model="fc.child3.childName" style="max-width:800px;" />
                                                        </div>

                                                        <div class="form-group container">
                                                            <div class="row">
                                                                <h5><label>Age (Years/Months)</label></h5>
                                                                <div class="col-md-4">
                                                                    <input type="number" name="ageInYears" min="1" max="99" class="form-control" ng-model="fc.child3.childAgeYears" placeholder="Years" />
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <input type="number" name="ageInMonths" min="1" max="12" class="form-control" ng-model="fc.child3.childAgeMonths" placeholder="Months" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                        </div><br />

                                                        <div ng-if="fc.item.numberOfChildren > 3">
                                                            <div class="form-group">
                                                                <h5><label>Child Name</label></h5>
                                                                <input type="text" name="childName" class="form-control" ng-model="fc.child4.childName" style="max-width:800px;" />
                                                            </div>

                                                            <div class="form-group container">
                                                                <div class="row">
                                                                    <h5><label>Age (Years/Months)</label></h5>
                                                                    <div class="col-md-4">
                                                                        <input type="number" name="ageInYears" min="1" max="99" class="form-control" ng-model="fc.child4.childAgeYears" placeholder="Years" />
                                                                    </div>
                                                                    <div class="col-md-4">
                                                                        <input type="number" name="ageInMonths" min="1" max="12" class="form-control" ng-model="fc.child4.childAgeMonths" placeholder="Months" />
                                                                    </div>
                                                                </div>
                                                            </div>


                                                        </div><br />

                                                <br />
                                                <button type="submit" class="btn btn-primary" ng-click="fc.submitChild(fc.child, fc.child2, fc.child3, fc.child4)">Submit</button><br />
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- end child information-->
                        <!-- select child start-->
                        <div class="panel-group" id="accordion">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">
                                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse3">Select Child</a>
                                    </h4>
                                </div>
                                <div id="collapse3" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <div>

                                            <div ng-repeat="child in fc.myChildren">
                                                {{child.ChildName}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- select child end-->
                        <!--Menus-->
                        <div class="panel-group" id="accordion">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">
                                        <a data-toggle="collapse" data-parent="#accordion" href="#menus"> Menus</a>
                                    </h4>
                                </div>
                                <div id="menus" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <div>
                                            <ol>
                                                <li ng-repeat="food in fc.food | orderBy: 'Calories'"><strong>{{food.Name}}</strong>, Calories: <strong>{{food.Calories}} kcal</strong><br /><br /></li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--End Menus-->
                    </div>
                </div>
            </div>
<<<<<<< HEAD

            <div>

            </div>

            <!-- banner-bottom -->
            <div class="banner-bottom">
                <div class="banner-bottom-grids">
                    <div class="col-md-4 banner-bottom-grid">
                        <h3>Welcome To <span>Kids 4 Life</span></h3>
                        <h2><i>"Cray waistcoat vice selfies pop-up PBR&B polaroid. "</i></h2>
                        <p>
                            Kickstarter affogato shaman yr occupy. Edison bulb intelligentsia pug brunch meggings narwhal kombucha twee gentrify coloring book.
                            <span>
                                Shoreditch kale chips gentrify af farm-to-table. Unicorn pour-over 90's cray chicharrones craft beer actually try-hard mixtape taiyaki VHS beard letterpress.
                            </span>
                        </p>
                        <div class="more">
                            <a href="single.html" class="hvr-rectangle-out">Read More...</a>
                        </div>
                    </div>
                    <div class="clearfix"> </div>
                </div>
            </div>
            <!--END ACCORDION-->
            <!--Menus-->
            <div class="panel-group" id="accordion">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a data-toggle="collapse" data-parent="#accordion" href="#menus"> Menus</a>
                        </h4>
                    </div>
                    <div id="menus" class="panel-collapse collapse">
                        <div class="panel-body">
                            <div>
                                <ol>
                                    <li ng-repeat="food in fc.food | orderBy: 'Calories'"><strong>{{food.Name}}</strong>, Calories: <strong>{{food.Calories}} kcal</strong><br /><br /></li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--End Menus-->
            <!-- SNACKS -->
            <h4>Healthy Snacks</h4>
                <div class="banner">
                    <div class="banner-grids">
                        <div class="banner-left">
                            <div class="banner-left1">
                                <div class="banner-left1-grid">
                                    <img src="http://mac.h-cdn.co/assets/15/51/768x384/mcx-trythis-2.jpg" alt=" " class="img-responsive" />
                                    <div class="banner-info">
                                        <a class="read-more" href="javascript:void(0);"><i></i></a>
                                        <h3>
                                            <a href="javascript:void(0);">
                                                Apples
                                            </a>
                                        </h3>
                                        <div class="event-meta">
                                          
                                            <p> w/ Peanut Butter instead of Candy</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="banner-left1-grid">
                                    <img src="http://mac.h-cdn.co/assets/15/51/980x490/mcx-trythis-4.jpg" alt=" " class="img-responsive" />
                                    <div class="banner-info">
                                        <a class="read-more" href="javascript:void(0);"><i></i></a>
                                        <h3>
                                            <a href="javascript:void(0);">
                                                Almonds / Mixed Nuts 
                                            </a>
                                        </h3>
                                        <div class="event-meta">
                                            
                                            <p>instead of Candies</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="banner-left2">
                                <div class="banner-left1-grid">
                                    <img src="http://mac.h-cdn.co/assets/16/31/768x384/mc_080516_snax2.jpg" alt=" " class="img-responsive" />
                                    <div class="banner-info">
                                        <a class="read-more" href="javascript:void(0);"><i></i></a>
                                        <h3>
                                            <a href="javascript:void(0);">
                                                Berries 
                                            </a>
                                        </h3>
                                        <div class="event-meta">
                                      
                                            <p>instead of Cupcakes</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="banner-left1-grid">
                                    <img src="http://mac.h-cdn.co/assets/16/31/768x384/mc_080516_snax4.jpg" alt=" " class="img-responsive" />
                                    <div class="banner-info">
                                        <a class="read-more" href="javascript:void(0);"><i></i></a>
                                        <h3>
                                            <a href="javascript:void(0);">
                                                Carrots
                                            </a>
                                        </h3>
                                        <div class="event-meta">
                                            <p>Instead of Hot Cheetos</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="clearfix"> </div>
                        </div>
                        <div class="banner-right">
                            <section class="slider">
                                <div class="flexslider">
                                    <ul class="slides">
                                        <li>
                                            <div class="services-grid-right-grid1">

                                            </div>
                                        </li>
                                        <li>
                                            <div class="services-grid-right-grid2">

                                            </div>
                                        </li>
                                        <li>
                                            <div class="services-grid-right-grid3">

                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </section>
                            <!--FlexSlider-->
                            <script src="~/Scripts/jquery.flexslider.js"></script>
                            <script type="text/javascript">
                                $(window).load(function () {
                                    $('.flexslider').flexslider({
                                        animation: "slide",
                                        start: function (slider) {
                                            $('body').removeClass('loading');
                                        }
                                    });
                                });
                            </script>
                            <!--End-slider-script-->
                        </div>
                        <div class="clearfix"> </div>
                    </div>
                </div>
            <!-- END SNACKS -->

        </div>
    </div>
</div>
<!-- //body -->
<!-- footer -->
<div class="footer">
    <div class="container">
        <div class="footer-grids">
            <div class="col-md-3 footer-grid">
                <p>
                    Kids 4 Life
                    <br />
                    Santa Ana,California USA.
                    <a href="contact@kids4life.com">contact@kids4life.com</a>
                <p>Phone : +844 35149182</p>
            </div>
            <div class="clearfix"> </div>
        </div>
        <div class="footer-copy">
            <p>&copy 2016 Kids School. All rights reserved | Design by <a href="http://w3layouts.com">W3layouts.</a></p>
            <ul>
                <li><a href="#" class="twitter"><span type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Follow Us On Twitter"></span></a></li>
                <li><a href="#" class="p"><span type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Follow Us On Pinterest"></span></a></li>
                <li><a href="#" class="facebook" id="facebook"><span type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Follow Us On Facebook"></span></a></li>
                <li><a href="#" class="dribble"><span type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Follow Us On Dribbble"></span></a></li>
                <li><a href="#" class="rss"><span type="button" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Follow Us On RSS"></span></a></li>
                <div class="clearfix"> </div>
            </ul>
            <script>
                            $(function () {
                                $('[data-toggle="tooltip"]').tooltip()
                            })
            </script>
        </div>
    </div>
</div>
<!-- //footer -->
<!-- here stars scrolling icon -->
<script type="text/javascript">
                            $(document).ready(function () {
                                /*
                                var defaults = {
                                    containerID: 'toTop', // fading element id
                                    containerHoverID: 'toTopHover', // fading element hover id
                                    scrollSpeed: 1200,
                                    easingType: 'linear'
                                };
                                */

                                $().UItoTop({ easingType: 'easeOutQuart' });

                            });
</script>
<!-- //here ends scrolling icon -->




@section scripts{

    <script>
<<<<<<< HEAD
                            (function () {
                                "use strict";

                                angular.module('myApp').factory('$fatSecretService', fatSecretService)

                                fatSecretService.$inject = ['$http'];

                                function fatSecretService($http) {
                                    var vm = this;

                                    return {
                                        foodSearch: _foodSearch
                                    }

                                    function _foodSearch() {

                                        return $http.get('/api/food')
                                        //.then(onCompleteFoodSearch)
                                    }
                                }
                            })();

                            (function () {
                                "use strict";
                                angular.module('myApp').controller('foodController', FoodController);

                                FoodController.$inject = ['$scope', '$fatSecretService', '$http'];

                                function FoodController($scope, $fatSecretService, $http) {
                                    var vm = this;
                                    vm.$scope = $scope;
                                    vm.$fatSecretService = $fatSecretService;

                                    vm.foodSearch = _foodSearch;
                                    vm.food = [];
                                    //family size input
                                    vm.item = null;
                                    vm.child = null;
                                    vm.onSubmit = _onSubmit;
                                    vm.submitChild = _submitChild;
                                    vm.myChildren = null;
                                    vm.getChildren = _getChildren;

                                    render();

                                    function render() {
                                        console.log("starting");
                                        vm.foodSearch();
                                    }

                                    function _foodSearch() {
                                        vm.$fatSecretService.foodSearch()
                                            .then(onCompleteFoodSearch)
                                    }

                                    function onCompleteFoodSearch(response) {
                                        console.log(response)

                                        for (var i = 0; i < response.data.length; i++) {
                                            if (vm.child.ChildAgeYears <= 5) {
                                                if (response.data[i].Calories < 100) {
                                                    vm.food.push(response.data[i]);
                                                }
                                            }

                                            else if (vm.child.ChildAgeYears > 6 && vm.child.ChildAgeYears <= 10) {
                                                if (response.data[i].Calories < 150) {
                                                    vm.food.push(response.data[i]);
                                                }
                                            }

                                            else if (vm.child.ChildAgeYears > 11) {
                                                vm.food.push(response.data[i]);
                                            }

                                        }

                                        //vm.food = response.data;
                                        return response;
                                    }

                                    // family size inputs
                                    function _onSubmit(item) {
                                        $("#collapse1").collapse("hide");
                                        $("#collapse2").collapse("show");
                                        vm.item = item;
                                        return $http.post('/api/parents', item)
                                            .then(onCreateSuccess)
                                            .catch(onError);

                                    }

                                    function _submitChild(child) {
                                        $("#collapse2").collapse("hide");
                                        $("#collapse3").collapse("show");

                                        vm.child = child;
                                        return $http.post('/api/child', child)
                                            .then(onCreateSuccess)
                                            .catch(onError);
                                    }

                                    function onCreateSuccess(response) {
                                        return response.data;
                                    }

                                    function onError() {
                                        console.log("Error");
                                    }

                                    function _getChildren() {
                                        return $http.get('/api/child')
                                            .then(onGetChildSuccess)
                                            .catch(onError);
                                    }

                                    function onGetChildSuccess(data) {
                                        vm.myChildren = data.item;
                                        console.log("Got Children");
                                    }
                                }


                            })();
=======
        (function () {
            "use strict";

            angular.module('myApp').factory('$fatSecretService', fatSecretService)

            fatSecretService.$inject = ['$http'];

            function fatSecretService($http) {
                var vm = this;

                return {
                    foodSearch: _foodSearch,
                }

                function _foodSearch() {
                    vm.settings = {
                        "async": true,
                        "crossDomain": true,
                        "url": "http://platform.fatsecret.com/rest/server.api?search_expression=beef&method=foods.search&oauth_consumer_key=739c762a693d415f90c92fbf5447e575&oauth_signature_method=HMAC-SHA1&oauth_timestamp=1498336378&oauth_nonce=C5QiVi4OH6F&oauth_version=1.0&oauth_signature=7Ug2R5JxhX9V6df9e2t/lTXtu9U=&format=json&max_results=50",
                        "method": "GET",
                        "headers": {
                            "xhrCredentials": true
                        }
                    }

                    return $http(vm.settings)
                    //.then(onCompleteFoodSearch)
                }




            }
        })(); 


        (function () {
            "use strict";

            angular.module('myApp').factory('$childrenServiceFactory', $ChildrenServiceFactory);

            $ChildrenServiceFactory.$inject = ['$http'];

            function $ChildrenServiceFactory($http) {

                return {
                    getChildren: _getChildren
                }

                function _getChildren() {
                    return $http.get('/api/child')
                        .then(onGetChildSuccess)
                        .catch(onError);
                } //_getChildren

                function onGetChildSuccess(response) {
                    console.log("successfully retrieved children data");
                    console.log("response", response);
                    return response.data;
                } //onGetChildSuccess

                function onError() {
                    console.log("ERROR!");
                    alert("YOU FUCKED UP!")
                } //onError

            }

        })();
        (function () {
            "use strict";
            angular.module('myApp').controller('foodController', FoodController);

            FoodController.$inject = ['$scope', '$fatSecretService', '$childrenServiceFactory', '$http'];

            function FoodController($scope, $fatSecretService, $childrenServiceFactory, $http) {
                var vm = this;
                vm.$scope = $scope;
                vm.$fatSecretService = $fatSecretService;
                vm.$http = $http;

                vm.foodSearch = _foodSearch;
                //family size input
                vm.item = null;
                vm.child = null;
                vm.onSubmit = _onSubmit;
                vm.submitChild = _submitChild;
                vm.myChildren = null;
                vm.getChildren = _getChildren;
                vm.retrieveChildren = _retrieveChildren;
                vm.foodSearch = _foodSearch;
                vm.food = [];

                //children stuff (for addtional children)
                vm.child2 = null;
                vm.child3 = null;
                vm.child4 = null;


                render();

                function render() {
                    console.log("starting");
                    vm.foodSearch();

                    return vm.getChildren()
                        .then(getChildrenSuccess);
                }

                function _foodSearch() {
                    vm.$fatSecretService.foodSearch()
                        .then(onCompleteFoodSearch)
                }

                function onCompleteFoodSearch(response) {
                    console.log(response)
                }

                // family size inputs
                function _onSubmit(item) {
                    $("#collapse1").collapse("hide");
                    $("#collapse2").collapse("show");
                    vm.item = item;
                    return $http.post('/api/parents', item)
                        .then(onCreateSuccess)
                        .catch(onError);
                }

                function _submitChild(child, child2, child3, child4) {
                    $("#collapse2").collapse("hide");
                    $("#collapse3").collapse("show");

                    vm.child = child;
                    vm.child = child2;
                    vm.child = child3;
                    vm.child = child4;
                    if (vm.item.numberOfChildren == 1){
                    return $http.post('/api/child', child)
                        .then(onCreateSuccess)
                            .catch(onError);

                    console.log("Input first child");
                    }

                    if (vm.item.numberOfChildren > 1) {
                        return $http.post('/api/child', vm.child2)
                            .then(onCreateSuccess)
                            .catch(onError);
                        console.log("Input second child");
                    }

                    if (vm.item.numberOfChildren > 2) {
                        return $http.post('/api/child', vm.child3)
                            .then(onCreateSuccess)
                            .catch(onError);
                        console.log("Input third child");
                    }

                    if (vm.item.numberOfChildren > 2) {
                        return $http.post('/api/child', vm.child4)
                            .then(onCreateSuccess)
                            .catch(onError);

                        console.log("Input fourth child");
                    }
                }

                function onCreateSuccess(response) {
                    return response.data;
                }

                function onError() {
                    console.log("Error");
                }

                function _getChildren() {
                    console.log("getting all children...")

                    return $childrenServiceFactory.getChildren()
                        .then(vm.retrieveChildren);
                } //_getChildren

                function _retrieveChildren(data) {
                    console.log("retrieve children data..")
                    console.log("data",data);
                    vm.myChildren = data;
                } //_retrieveChildren

                function getChildrenSuccess() {
                    console.log("completed render and retrieving children data")
                } //getChildrenSuccess

                //BRIANS 
                function _foodSearch() {
                    vm.$fatSecretService.foodSearch()
                        .then(onCompleteFoodSearch)
                }
                function onCompleteFoodSearch(response) {
                    console.log(response)
                    for (var i = 0; i < response.data.length; i++) {
                        if (vm.child.ChildAgeYears <= 5) {
                            if (response.data[i].Calories < 100) {
                                vm.food.push(response.data[i]);
                            }
                        }
                        else if (vm.child.ChildAgeYears > 6 && vm.child.ChildAgeYears <= 10) {
                            if (response.data[i].Calories < 150) {
                                vm.food.push(response.data[i]);
                            }
                        }
                        else if (vm.child.ChildAgeYears > 11) {
                            vm.food.push(response.data[i]);
                        }
                    }
                    //vm.food = response.data;
                    return response;
                }

            }


        })();
>>>>>>> eaa91b2548b1af07b7bad8615b6c3029711eae36
    </script>
}
